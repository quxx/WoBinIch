<!DOCYTPE html>
<html>

<head>
    <style>
        ol {
            padding: 0;
            margin: 0;
            list-style: none;
        }
        
        ol li {
            padding: 0;
            clear: both;
            margin: 0 0 10px 0;
        }
        
        label {
            width: 150px;
            float: left;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="scripts/data_handler.js"></script>

    <script>
        $(document).ready(function () {
            var JSONs = [];

            $("#trial").click(function () {

              
            });

            
            //Daten sollten zur Einfachheit vorbereitet und in variablen gespeichert werden!
            
            $("#packData").click(function () {
                timestamp = Date();
                username = $('#username').val();
                password = $('#password').val();
                imgURL = "PLACEHOLDER";
                geodata = $('#geodata').val();
                score = $('#score').val();
                open = $('#open').is(':checked');

            //Die gepackten Daten werden in ein Array aus JSON-formatierten Objekten geschrieben und sollen dann entsprechend noch lokal abgelegt werden.
                
                JSONs.push(formatJSON(timestamp, username, password, imgURL, geodata, score, open));

            //Und im nachhinein wieder ausgelesen, dies dient aktuell nur der Übersicht und ist später nicht mehr der Fall!
                
                var parsedArray = "";
                for (i = 0; i < JSONs.length; i++) {
                    parsedArray += JSON.stringify(JSONs[i]) + "<br>";
                }

                $("#unparsed").html(parsedArray);
                
                console.log(JSONs)
                console.log(parsedArray);
            });

        })
    </script>

</head>

<body>
    <p>The data will be formatted with JSON to make parsing and serializing it easier!</p>
    <form>
        <fieldset>
            <legend>Input Data</legend>
            <ol>
                <li>
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" value="D.kessler">
                </li>
                <li>
                    <label for="password">Password</label>
                    <input type="text" id="password" name="password" value="5410">
                </li>
                <li>
                    <label for="image">Image</label>
                    <input type="file" id="image" name="image" value="TEST">
                </li>
                <li>
                    <label for="geodata">Geodata</label>
                    <input type="text" id="geodata" name="geodata" value="NUMBERS12345">
                </li>
                <li>
                    <label for="score">Score</label>
                    <input type="text" id="score" name="score" value="165132">
                </li>
                <li>
                    <label for="open">Open</label>
                    <input type="checkbox" id="open" name="open">
                </li>
            </ol>
            <button name="packData" id="packData" type="button">Pack Data</button>
        </fieldset>

        <p id="unparsed"></p>
        <p id="parsed"></p>
    </form>

    <button name="trial" id="trial" type="button">Try shit!</button>
    <div id="div1"></div>
</body>

</html>